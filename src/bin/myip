#!/bin/bash

# AUTHOR:	(c) idank
# VERSION:	1.0
# LICENSE:	GPL (http://www.gnu.org/licenses/gpl.html)
# REQUIRES: curl
# NAME:		MyIP
# DESCRIPTION:	returns your public ip address.

PROGRAM=$(basename $0)
DESCRIPTION="return my external IP"
PARAMS=""
OPTIONS="[-h]"
SITE="whatsmyip.net"

usage()
{
	[ $1 -ne 0 ] && exec >&2

	cat << EOF
$PROGRAM - $DESCRIPTION
usage:
$PROGRAM $OPTIONS $PARAMS

options:
-h	help: show this help message and exit.

exit status:
0	all OK
1	no IP received from site
2	argument are bad
otherwise, it is the exit status from curl
EOF

	exit $1
}

while getopts h OPTION; do
	case $OPTION in
		h) usage 0 ;;
		\?) usage 2 ;;
	esac
done
shift $((OPTIND - 1))

curl icanhazip.com || exit 1
